

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to cookiecut Python package &mdash; bg-cookiecutter 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=f539c95a"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to release Python package" href="release-guide.html" />
    <link rel="prev" title="Getting started" href="getting-started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            bg-cookiecutter
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to cookiecut Python package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tips-and-how-to-receive-support">Tips and how to receive support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pre-commit-workflow">1. Pre-commit workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cookiecutter-main-workflow">1. Cookiecutter main workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-documentation-workflow">3. API documentation workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#final-sign-off">4. Final sign-off</a></li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-1-how-to-test-your-package-locally">Appendix 1. How to test your package locally</a></li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-2-how-to-build-documentation-locally">Appendix 2. How to build documentation locally</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#real-time-preview-with-visual-studio-code">Real-time preview with Visual Studio Code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-3-how-to-write-branch-name-rst-news-file">Appendix 3. How to write <code class="docutils literal notranslate"><span class="pre">&lt;branch-name&gt;.rst</span></code> news file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#motivation-and-audience">Motivation and audience</a></li>
<li class="toctree-l3"><a class="reference internal" href="#guidelines-for-writing-news-items">Guidelines for writing news items</a></li>
<li class="toctree-l3"><a class="reference internal" href="#where-to-place-the-news-item-in-branch-name-rst">Where to place the news item in <code class="docutils literal notranslate"><span class="pre">&lt;branch-name&gt;.rst</span></code>?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-4-codecov-token-setup-for-the-repository">Appendix 4. Codecov token setup for the repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-5-how-to-configure-pre-commit-ci-via-github-apps">Appendix 5. How to configure pre-commit CI via GitHub Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-6-how-to-setup-github-pages-for-your-package">Appendix 6. How to setup GitHub Pages for your package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release-guide.html">How to release Python package</a></li>
<li class="toctree-l1"><a class="reference internal" href="conda-forge-guide.html">How to release conda-forge package</a></li>
<li class="toctree-l1"><a class="reference internal" href="frequently-asked-questions.html">Frequently asked questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">bg-cookiecutter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">How to cookiecut Python package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/cookiecutter-guide.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="how-to-cookiecut-python-package">
<span id="cookiecutter-title"></span><span id="index-0"></span><h1>How to cookiecut Python package<a class="headerlink" href="#how-to-cookiecut-python-package" title="Link to this heading"></a></h1>
<section id="installation">
<span id="cookiecutter-installation"></span><h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>To get started, install <code class="docutils literal notranslate"><span class="pre">cookiecutter</span></code>, <code class="docutils literal notranslate"><span class="pre">black</span></code>, and <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> in a new conda environment. Follow the steps below:</p>
<p>Create a new environment named <code class="docutils literal notranslate"><span class="pre">cookiecutter_env</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">cookiecutter_env</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.13</span>
</pre></div>
</div>
<p>Activate the environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">cookiecutter_env</span>
</pre></div>
</div>
<p>Install packages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">cookiecutter</span> <span class="n">black</span> <span class="n">pre</span><span class="o">-</span><span class="n">commit</span>
</pre></div>
</div>
<p>You are now ready to cookiecut your Python package!</p>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>We have divided the cookiecutting process into four workflows:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#cookiecutter-workflow-pre-commit"><span class="std std-ref">Pre-commit workflow:</span></a> you will use automatic formatting tools to standardize your package with PEP8 before migrating it to the Billinge group’s project structure with <code class="docutils literal notranslate"><span class="pre">cookiecutter</span></code>. Then, the <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> library installed is used ensure the code is in good shape. You can skip this step if you are starting a new project.</p></li>
<li><p><a class="reference internal" href="#cookiecutter-workflow-main"><span class="std std-ref">Cookiecutting workflow:</span></a> After your code is formatted, you will use the <code class="docutils literal notranslate"><span class="pre">cookiecutter</span></code> library to generate a new project inside the package directory. The new project contains dynamically filled templates based on your inputs such as repository name, license, and contributors. Then, you will move files from the old to the new structure using Git.</p></li>
<li><p><a class="reference internal" href="#cookiecutter-workflow-api"><span class="std std-ref">API documentation build workflow:</span></a> Once you have cookiecuttered the package, you will use our Python script to automatically generate API documentation for your package and render the documentation locally.</p></li>
<li><p><a class="reference internal" href="#cookiecutter-workflow-final"><span class="std std-ref">Final sign-off:</span></a> After you’ve checked the licenses, README, and documentation, you will host your package documentation online. Once you are done with this page, we will guide you on how to release your package on a separate page <a class="reference internal" href="release-guide.html#release-guide"><span class="std std-ref">here</span></a>.</p></li>
</ol>
</section>
<section id="tips-and-how-to-receive-support">
<h2>Tips and how to receive support<a class="headerlink" href="#tips-and-how-to-receive-support" title="Link to this heading"></a></h2>
<p>We offer the following ways to help guide you through the cookiecutting process:</p>
<ol class="arabic simple">
<li><p>You may cross-check with the Billinge group’s up-to-date cookiecuttered package, <code class="docutils literal notranslate"><span class="pre">diffpy.utils</span></code>: <a class="reference external" href="https://github.com/diffpy/diffpy.utils">https://github.com/diffpy/diffpy.utils</a>.</p></li>
<li><p>If you have any questions, first read the <a class="reference internal" href="frequently-asked-questions.html#frequently-asked-questions"><span class="std std-ref">FAQ</span></a> for how to customize your package and certain design decisions in the cookiecutter template.</p></li>
<li><p>After you’ve cross-checked and searched through the FAQ, please feel free to ask questions by creating an issue on the Cookiecutter repository <a class="reference external" href="https://github.com/Billingegroup/cookiecutter/issues">here</a>.</p></li>
</ol>
</section>
<section id="pre-commit-workflow">
<span id="cookiecutter-workflow-pre-commit"></span><h2>1. Pre-commit workflow<a class="headerlink" href="#pre-commit-workflow" title="Link to this heading"></a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Skip this section and go to <a class="reference internal" href="#cookiecutter-workflow-main"><span class="std std-ref">2. Cookiecutter main workflow</span></a> if you are starting a new project!</p>
</div>
<ol class="arabic">
<li><p>Fork and clone the repository.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cd</span></code> into the top-level directory of that project.</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">upstream</span> <span class="pre">main</span></code> to sync with the main branch.</p></li>
<li><p>Double-check that no bug-fix etc. pull-requests are waiting to be merged. If you are a member, check with the project repository owner if you are unsure.</p></li>
<li><p>Create a new branch called <code class="docutils literal notranslate"><span class="pre">black</span></code>.</p></li>
<li><p>Create <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>. Copy and paste the following to <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>tool.black<span class="o">]</span>
line-length<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">115</span>
<span class="nv">include</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;\.pyi?$&#39;</span>
<span class="nv">exclude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">/(</span>
<span class="s1">    \.git</span>
<span class="s1">| \.hg</span>
<span class="s1">| \.mypy_cache</span>
<span class="s1">| \.tox</span>
<span class="s1">| \.venv</span>
<span class="s1">| \.rst</span>
<span class="s1">| \.txt</span>
<span class="s1">| _build</span>
<span class="s1">| buck-out</span>
<span class="s1">| build</span>
<span class="s1">| dist</span>

<span class="s1"># The following are specific to Black, you probably don&#39;</span>t<span class="w"> </span>want<span class="w"> </span>those.
<span class="p">|</span><span class="w"> </span>blib2to3
<span class="p">|</span><span class="w"> </span>tests/data
<span class="o">)</span>/
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">black</span> <span class="pre">src</span></code> in your Terminal. If your source code is in a different directory, replace <code class="docutils literal notranslate"><span class="pre">src</span></code> with the appropriate directory path. This will automatically format your code to PEP8 standards given the line-length provided under <code class="docutils literal notranslate"><span class="pre">line-length</span></code> above in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>.</p></li>
<li><p>Add and commit the automatic changes by <code class="docutils literal notranslate"><span class="pre">black</span></code>. The commit message can be <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;style:</span> <span class="pre">apply</span> <span class="pre">black</span> <span class="pre">to</span> <span class="pre">src</span> <span class="pre">directory</span> <span class="pre">with</span> <span class="pre">black</span> <span class="pre">configured</span> <span class="pre">in</span> <span class="pre">pyproject.toml&quot;</span></code>.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">black</span> <span class="pre">.</span></code> Here, you are running black across the entire package directory. Then, test your package with unit tests locally.</p></li>
<li><p>git add and commit the changes. The commit message can be <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;style:</span> <span class="pre">apply</span> <span class="pre">black</span> <span class="pre">to</span> <span class="pre">all</span> <span class="pre">files</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">project</span> <span class="pre">directory&quot;</span></code>.</p></li>
<li><p>Create a pull request into <code class="docutils literal notranslate"><span class="pre">main</span></code>. The pull request title can be <code class="docutils literal notranslate"><span class="pre">cookiecut:</span> <span class="pre">Apply</span> <span class="pre">black</span> <span class="pre">to</span> <span class="pre">project</span> <span class="pre">directory</span> <span class="pre">with</span> <span class="pre">no</span> <span class="pre">manual</span> <span class="pre">edits</span></code>.</p></li>
<li><p>After the <code class="docutils literal notranslate"><span class="pre">black</span></code> branch has been merged to <code class="docutils literal notranslate"><span class="pre">main</span></code>, type <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">main</span> <span class="pre">&amp;&amp;</span> <span class="pre">git</span> <span class="pre">pull</span> <span class="pre">upstream</span> <span class="pre">main</span></code> and create a new branch called <code class="docutils literal notranslate"><span class="pre">precommit</span></code> by typing <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">precommit</span></code>.</p></li>
<li><p>Copy and paste two files of <code class="docutils literal notranslate"><span class="pre">.flake8</span></code> <a class="reference external" href="https://github.com/Billingegroup/cookiecutter/blob/main/%7B%7B%20cookiecutter.repo_name%20%7D%7D/.flake8">here</a> and <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code> <a class="reference external" href="https://github.com/Billingegroup/cookiecutter/blob/main/%7B%7B%20cookiecutter.repo_name%20%7D%7D/.pre-commit-config.yaml">here</a> to your project directory. Cross-check with <a class="reference external" href="https://github.com/diffpy/diffpy.utils">https://github.com/diffpy/diffpy.utils</a>.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">pre-commit</span> <span class="pre">run</span> <span class="pre">--all-files</span></code> in your Terminal. This will attempt to lint your code such as docstrings, extra spaces, across all file types such as <code class="docutils literal notranslate"><span class="pre">.yml</span></code>, <code class="docutils literal notranslate"><span class="pre">.md</span></code>, <code class="docutils literal notranslate"><span class="pre">.rst</span></code>, etc. However, most likely, you will have to manually fix some of the errors raised by <code class="docutils literal notranslate"><span class="pre">flake8</span></code>.</p></li>
<li><p>Before manually editing, let’s first take a look at the changes made by running <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> to get an overview of the files modified and then by running <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">&lt;file-or-directory-path&gt;</span></code> to see the specific changes. If you do not want the new changes, you can run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span> <span class="pre">&lt;file-or-directory-path&gt;</span></code> to revert the changes.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Q1. Do you want to prevent certain automatic modifications on files? You can add the folder or extension to the <code class="docutils literal notranslate"><span class="pre">exclude</span></code> section in <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code> with an example shown <a class="reference external" href="https://github.com/Billingegroup/cookiecutter/blob/main/.pre-commit-config.yaml">here</a>.</p>
<p>Q2. Do you want to ignore certain spelling recommendations by Codespell? Please refer to this section in the FAQ <span class="xref std std-ref">here</span>.</p>
</div>
</div></blockquote>
</li>
<li><p>At this point, you may have flake8 errors but we want to address them in a separate pull request. Hence, git add and commit and push the automatic changes made by <code class="docutils literal notranslate"><span class="pre">precommit</span></code> and create a pull request to <code class="docutils literal notranslate"><span class="pre">main</span></code>. The commit message can be <code class="docutils literal notranslate"><span class="pre">style:</span> <span class="pre">apply</span> <span class="pre">pre-commit</span> <span class="pre">without</span> <span class="pre">manual</span> <span class="pre">modification</span></code> and the pull request title can be <code class="docutils literal notranslate"><span class="pre">cookiecut:</span> <span class="pre">Apply</span> <span class="pre">pre-commit</span> <span class="pre">to</span> <span class="pre">project</span> <span class="pre">directory</span> <span class="pre">with</span> <span class="pre">no</span> <span class="pre">manual</span> <span class="pre">edits</span></code>.</p></li>
<li><p>After the <code class="docutils literal notranslate"><span class="pre">precommit</span></code> branch has been merged to <code class="docutils literal notranslate"><span class="pre">main</span></code>, run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">main</span> <span class="pre">&amp;&amp;</span> <span class="pre">git</span> <span class="pre">pull</span> <span class="pre">upstream</span> <span class="pre">main</span></code> and create a new branch called <code class="docutils literal notranslate"><span class="pre">flake8</span></code> by typing <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">flake8</span></code>. If you have many flake8 errors and types, feel free to create one branch for each specific type of error, like <code class="docutils literal notranslate"><span class="pre">flake8-length</span></code>.</p></li>
</ol>
<p>Here are some tips to reduce cognitive overload:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Start with easier error types to fix, such as line lengths and “module imported but not used”, etc.</p></li>
<li><p>Create multiple PRs, each containing a specific theme (e.g., “Fix docstring line-length flake8 errors” using the <code class="docutils literal notranslate"><span class="pre">flake8-length</span></code> branch, etc.) to reduce cognitive overload for the reviewer.</p></li>
<li><p>If you are unsure, suppress the flake8 error by adding <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">noqa:</span> <span class="pre">&lt;error-code&gt;</span></code> at the end of the line. For example, <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">numpy</span> <span class="pre">as</span> <span class="pre">np</span> <span class="pre">#</span> <span class="pre">noqa:</span> <span class="pre">E000</span></code> but make sure you create an issue for this so that you can revisit them after cookiecutting.</p></li>
</ol>
</div></blockquote>
<p>For each <cite>flake8</cite> branch, create a PR request to <code class="docutils literal notranslate"><span class="pre">main</span></code>. Since you are fixing flake8 errors, the commit message can be <code class="docutils literal notranslate"><span class="pre">style:</span> <span class="pre">fix</span> <span class="pre">flake8</span> <span class="pre">&lt;readable-error-type&gt;</span> <span class="pre">errors</span></code> and the pull request title can be <code class="docutils literal notranslate"><span class="pre">cookiecut:</span> <span class="pre">Fix</span> <span class="pre">flake8</span> <span class="pre">&lt;readable-error-type&gt;</span> <span class="pre">errors</span></code>. In each PR, feel free to communicate the remaining flake8 issues in each pull request to track progress.</p>
<p>Congratulations! You have successfully completed the pre-commit workflow. You may proceed to the section to now transform your package structure!</p>
</section>
<section id="cookiecutter-main-workflow">
<span id="cookiecutter-workflow-main"></span><h2>1. Cookiecutter main workflow<a class="headerlink" href="#cookiecutter-main-workflow" title="Link to this heading"></a></h2>
<p>If you are migrating an existing project,</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Ensure no files are overwritten or lost.</p>
<ul class="simple">
<li><p>Do NOT delete/remove any files before confirming that it is absolutely unnecessary. Create an issue or contact the maintainer.</p></li>
<li><p>Do NOT delete project-specific content such as project descriptions in README, license information, authors, tutorials, examples.</p></li>
</ul>
<p>If you are unsure, please ask for help.</p>
</div>
<p>If you are here starting a new project, the <a class="reference internal" href="#cookiecutter-workflow-pre-commit"><span class="std std-ref">1, Pre-commit workflow</span></a> section is completed in the project template. Visit <a class="reference external" href="_cookiecutter-installation">installation</a> section and download the dependencies that we will be using.</p>
<ol class="arabic simple">
<li><p>Type <code class="docutils literal notranslate"><span class="pre">cookiecutter</span> <span class="pre">https://github.com/billingegroup/cookiecutter</span></code> inside the package directory.</p></li>
<li><p>Answer the questions as the following – note that (default) means to hit enter without modifying anything:</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">github_org<span class="colon">:</span></dt>
<dd class="field-odd"><p>The GitHub organization name or owner’s GitHub username. e.g., <code class="docutils literal notranslate"><span class="pre">Billingegroup</span></code>.</p>
</dd>
<dt class="field-even">keywords<span class="colon">:</span></dt>
<dd class="field-even"><p>The keywords of the project. Each word is separated by a comma and a space. e.g., <code class="docutils literal notranslate"><span class="pre">pdf,</span> <span class="pre">diffraction,</span> <span class="pre">neutron,</span> <span class="pre">x-ray</span></code>. The keywords may be found in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> or <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>.</p>
</dd>
<dt class="field-odd">project_name<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the project e.g., <code class="docutils literal notranslate"><span class="pre">my-package</span></code>. For a namespace package, use e.g., <code class="docutils literal notranslate"><span class="pre">diffpy.my-package</span></code>.</p>
</dd>
<dt class="field-even">package_dist_name<span class="colon">:</span></dt>
<dd class="field-even"><p>The name in the package distribution in PyPI and conda-forge .If your package name contains <code class="docutils literal notranslate"><span class="pre">_</span></code>, replace it with <code class="docutils literal notranslate"><span class="pre">-</span></code>. e.g., <code class="docutils literal notranslate"><span class="pre">my-package</span></code>. For a namespace package, use e.g., <code class="docutils literal notranslate"><span class="pre">diffpy.my-package</span></code>.</p>
</dd>
<dt class="field-odd">package_dir_name<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the package directory. It must be lowercase e.g., <code class="docutils literal notranslate"><span class="pre">my_package</span></code> so that it can be imported as <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">my_package</span></code> in a Python script.</p>
</dd>
<dt class="field-even">repo_name<span class="colon">:</span></dt>
<dd class="field-even"><p>The repository name of the project displayed on GitHub. It should be identical as the project_name.</p>
</dd>
<dt class="field-odd">min_python<span class="colon">:</span></dt>
<dd class="field-odd"><p>The minimum Python version. The default is <code class="docutils literal notranslate"><span class="pre">3.11</span></code>.</p>
</dd>
<dt class="field-even">max_python<span class="colon">:</span></dt>
<dd class="field-even"><p>The maximum Python version. The default is <code class="docutils literal notranslate"><span class="pre">3.13</span></code>.</p>
</dd>
<dt class="field-odd">have_c_code<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether the package require C/C++ code that requires building the package. For pure Python packages, this is <code class="docutils literal notranslate"><span class="pre">False</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-even">headless_GUI_test<span class="colon">:</span></dt>
<dd class="field-even"><p>Run headless testing in GitHub CI. If your package does not contain GUI, the default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-odd">workflow_version<span class="colon">:</span></dt>
<dd class="field-odd"><p>Version of the reuseuable workflow to use. <code class="docutils literal notranslate"><span class="pre">v0</span></code> is the default.</p>
</dd>
</dl>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Skip the rest of Cookiecutter main workflow if you are starting a new project! Proceed to the <a class="reference internal" href="#cookiecutter-workflow-api"><span class="std std-ref">3. API documentation workflow</span></a> below. Otherwise, please continue!</p>
</div>
<ol class="arabic simple" start="3">
<li><p>cd into the new <code class="docutils literal notranslate"><span class="pre">diffpy.&lt;package_name&gt;/</span></code> directory (e.g., in our example <code class="docutils literal notranslate"><span class="pre">pwd</span></code> would return <code class="docutils literal notranslate"><span class="pre">~/dev/diffpy.pdfmorph/diffpy.pdfmorph</span></code>) (we will refer to the nested directory as the “<strong>cookiecutter</strong>” directory and <code class="docutils literal notranslate"><span class="pre">~/dev/diffpy.pdfmorph/</span></code> as the “<strong>main</strong>” directory).</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-als</span></code> (if you have the alias, this is <code class="docutils literal notranslate"><span class="pre">ll</span></code>) compare the directory structures in this directory tree to that in the original repo to see what is different (ignore files at this point). Nothing to do here, just get familiar with the differences.</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">mv</span> <span class="pre">../.git</span> <span class="pre">.</span></code> to move the <code class="docutils literal notranslate"><span class="pre">.git</span></code> directory from the main repo to the cookiecutter repo.</p></li>
<li><p>Create a new branch for all the changes, e.g., <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">cookierelease</span></code>.</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">-n</span> <span class="pre">-r</span> <span class="pre">../src</span> <span class="pre">.</span></code> to copy the source code from the main to the cookiecutter repo, without overwriting existing files in the destination. If there is no src directory, it will be something like <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">-n</span> <span class="pre">-r</span> <span class="pre">../diffpy</span> <span class="pre">./src</span></code>.</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> to see a list of files that have been (1) untracked, (2) deleted, (3) modified. Untracked files are in the cookiecutter but not in the original repo, deleted files are in the original but haven’t been moved over, and modified files are in both but have been changed.</p></li>
<li><p>Let’s now copy over any documentation, similar to what we did with the src files. We want to copy over everything in the <code class="docutils literal notranslate"><span class="pre">doc/&lt;path&gt;/source</span></code> file from the old repo to the <code class="docutils literal notranslate"><span class="pre">doc/source</span></code> file in the new repo.</p>
<ol class="arabic simple">
<li><p>If you see this extra <code class="docutils literal notranslate"><span class="pre">manual</span></code> directory, run <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">-n</span> <span class="pre">-r</span> <span class="pre">../doc/manual/source/*</span> <span class="pre">./doc/source</span></code>.</p></li>
<li><p>If files are moved to a different path, open the project in PyCharm and do a global search (ctrl + shift + f) for <code class="docutils literal notranslate"><span class="pre">../</span></code> or <code class="docutils literal notranslate"><span class="pre">..</span></code> and modify all relative path instances.</p></li>
</ol>
</li>
<li><p>Now we will work on correcting all the things that are wrong.</p>
<ol class="arabic simple">
<li><p>Add and commit each of the (1) untracked files to the git repo. These files are in the cookiecutter repo but not in the main repo, so can simply be “git added”. Do it one (or a few) at a time to make it easier to rewind by having multiple commits.</p></li>
<li><p>Make a PR of your <code class="docutils literal notranslate"><span class="pre">cookierelease</span></code> branch by pushing your fork and opening a PR.</p></li>
<li><p>Files showing as (2) “deleted” upon git status are in the main repo but not in the cookiecutter repo. We took care of most of these by moving over the src tree, but let’s do the rest now. Go down the list and for &lt;filename&gt; in the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> “delete” files type <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">-n</span> <span class="pre">../&lt;filepath&gt;/&lt;filename&gt;</span> <span class="pre">./&lt;target_filepath&gt;</span></code>. Do not move files that we do not want. If you are unsure, feel free to confirm with Simon.</p></li>
<li><p>Files that have been (3) modified exist in both places and need to be merged <strong>manually</strong>. Do these one at a time. First open the file in PyCharm, then select <code class="docutils literal notranslate"><span class="pre">Git|current</span> <span class="pre">file|show</span> <span class="pre">diff</span></code> and the differences will show up. Select anything you want to inherit from the file in the main repo. For example, you want to copy useful information such as LICENSE and README files from the main repo to the cookiecutter repo.</p></li>
<li><p>Any files that we moved over from the old place, but put into a new location in the new repo, we need to delete them from git. For example, files that were in <code class="docutils literal notranslate"><span class="pre">doc/manual/source/</span></code> in the old repo but are not <code class="docutils literal notranslate"><span class="pre">doc/source</span></code> we correct by typing <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">doc/manual/source</span></code>.</p></li>
</ol>
</li>
<li><p>Run pytest <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pytest</span></code> or <code class="docutils literal notranslate"><span class="pre">pytest</span></code> to make sure everything is working. There should be no errors if all tests passed previously when you were working on pre-commit. You may encounter deprecation warnings. There might be several possibilities:</p></li>
</ol>
<blockquote>
<div><p>fixes separate from cookiecuttering. Remember to add it to Github issue.</p>
<blockquote>
<div><ol class="arabic simple" start="2">
<li><p>Most <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code> deprecation warnings will be fixed by cookiecutter, but if you are in a diffpy package using unittests and see this warning you can fix them by replacing <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">pkg_resources</span> <span class="pre">import</span> <span class="pre">resource_filename</span></code> with <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">importlib</span> <span class="pre">import</span> <span class="pre">resources</span></code> and change <code class="docutils literal notranslate"><span class="pre">path</span> <span class="pre">=</span> <span class="pre">resource_filename(__name__,</span> <span class="pre">p)</span></code> to <code class="docutils literal notranslate"><span class="pre">path</span> <span class="pre">=</span> <span class="pre">str(resources.files(__name__).joinpath(p))</span></code>. If you see <code class="docutils literal notranslate"><span class="pre">collected</span> <span class="pre">0</span> <span class="pre">items</span> <span class="pre">no</span> <span class="pre">tests</span> <span class="pre">ran</span></code> you might want to rename testing files as <code class="docutils literal notranslate"><span class="pre">test_*.py</span></code>. Refer to the [migration guide](<a class="reference external" href="https://importlib-resources.readthedocs.io/en/latest/migration.html">https://importlib-resources.readthedocs.io/en/latest/migration.html</a>).</p></li>
</ol>
</div></blockquote>
</div></blockquote>
</section>
<section id="api-documentation-workflow">
<span id="cookiecutter-workflow-api"></span><h2>3. API documentation workflow<a class="headerlink" href="#api-documentation-workflow" title="Link to this heading"></a></h2>
<p>This should be done only when the above steps are finished.</p>
<p>When you see files with <code class="docutils literal notranslate"><span class="pre">..automodule::</span></code> within them, these are API documentation. However, these are not populated. We will populate them using our release scripts.</p>
<ol class="arabic simple">
<li><p>Make sure you have our release scripts repository. Go to <code class="docutils literal notranslate"><span class="pre">dev</span></code> and run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/Billingegroup/release-scripts.git</span></code>.</p></li>
<li><p>Enter your cookiecutter package directory. For example, I would run <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">./diffpy.pdfmorph/diffpy.pdfmorph</span></code>.</p></li>
<li><p>Build the package using <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">build</span></code>. You may have to install <code class="docutils literal notranslate"><span class="pre">python-build</span></code> first.</p></li>
<li><p>Get the path of the package directory proper. In the case of <code class="docutils literal notranslate"><span class="pre">diffpy.pdfmorph</span></code>, this is <code class="docutils literal notranslate"><span class="pre">./src/diffpy/pdfmorph</span></code>. In general, for <code class="docutils literal notranslate"><span class="pre">a.b.c</span></code>, this is <code class="docutils literal notranslate"><span class="pre">./src/a/b/c</span></code>.</p></li>
<li><p>Run the API script. This is done by running <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">&lt;path_to_auto_api&gt;</span> <span class="pre">&lt;package_name&gt;</span> <span class="pre">&lt;path_to_package_proper&gt;</span> <span class="pre">&lt;path_to_api_directory&gt;</span></code>.</p>
<ol class="arabic simple">
<li><p>If you have followed the steps above, the command is <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">../../release-scripts/auto_api.py</span> <span class="pre">&lt;package_name&gt;</span> <span class="pre">&lt;path_to_package_proper&gt;</span> <span class="pre">./doc/source/api</span></code>.</p></li>
</ol>
</li>
</ol>
<p>Make sure you build the documentation by going to <code class="docutils literal notranslate"><span class="pre">/doc</span></code> and running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code>.
The error “No module named” (<code class="docutils literal notranslate"><span class="pre">e.g.</span> <span class="pre">WARNING:</span> <span class="pre">autodoc:</span> <span class="pre">failed</span> <span class="pre">to</span> <span class="pre">import</span> <span class="pre">module</span> <span class="pre">'tools'</span> <span class="pre">from</span> <span class="pre">module</span> <span class="pre">'diffpy.pdfmorph';</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">exception</span> <span class="pre">was</span> <span class="pre">raised:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">'diffpy.utils'</span></code>) can be resolved by adding <code class="docutils literal notranslate"><span class="pre">autodoc_mock_imports</span> <span class="pre">=</span> <span class="pre">[&lt;pkg&gt;]</span></code> to your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> right under imports. This file is located in <code class="docutils literal notranslate"><span class="pre">/doc/source/conf.py</span></code>.
In the case of <code class="docutils literal notranslate"><span class="pre">PDFmorph</span></code>, this was done by adding <code class="docutils literal notranslate"><span class="pre">autodoc_mock_imports</span> <span class="pre">=</span> <span class="pre">[&quot;diffpy.utils&quot;,]</span></code>.</p>
<p>Congratulations! You may now commit the changes made by <code class="docutils literal notranslate"><span class="pre">auto_api.py</span></code> (and yourself) and push this commit to the cloud!
Make a PR! It will be merged, trust!</p>
</section>
<section id="final-sign-off">
<span id="cookiecutter-workflow-final"></span><h2>4. Final sign-off<a class="headerlink" href="#final-sign-off" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>For the <code class="docutils literal notranslate"><span class="pre">cookierelease</span></code> activity make a <code class="docutils literal notranslate"><span class="pre">&lt;branchname&gt;.rst</span></code> file by copying <code class="docutils literal notranslate"><span class="pre">TEMPLATE.rst</span></code> in the news folder and under “fixed” put <code class="docutils literal notranslate"><span class="pre">Repo</span> <span class="pre">structure</span> <span class="pre">modified</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">new</span> <span class="pre">diffpy</span> <span class="pre">standard</span></code></p></li>
<li><p>If a new Python version has been added under “added” add <cite>Python 3.xx, 3,xx support</cite>. If a previous version has been removed, under “fixed”, add a new item <cite>Python 3.xx, 3.xx, support</cite>.</p></li>
<li><p>Check the <cite>README</cite> and make sure that all parts have been filled in and all links resolve correctly.</p></li>
<li><p>Run through the documentation online and do the same, fix grammar and make sure all links work.</p></li>
<li><p>Follow the instructions on setting up GitHub pages here.</p></li>
</ol>
</section>
<section id="appendix-1-how-to-test-your-package-locally">
<span id="test-package-locally"></span><h2>Appendix 1. How to test your package locally<a class="headerlink" href="#appendix-1-how-to-test-your-package-locally" title="Link to this heading"></a></h2>
<p>Ensure your package has been cookiecuttered. We will use the <code class="docutils literal notranslate"><span class="pre">diffpy.utils</span></code> package as an example. In the package directory, follow these instructions:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a new environment, specify the Python version and install packages</span>
conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>diffpy_utils_env<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.13<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--file<span class="w"> </span>requirements/test.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--file<span class="w"> </span>requirements/conda.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--file<span class="w"> </span>requirements/build.txt

<span class="c1"># Activate the environment</span>
conda<span class="w"> </span>activate<span class="w"> </span>diffpy_utils_env

<span class="c1"># Install your package locally</span>
<span class="c1"># `--no-deps` to NOT install packages again from `requirements.pip.txt`</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="w"> </span>--no-deps

<span class="c1"># Run pytest locally</span>
pytest

<span class="c1"># ... run example tutorials</span>
</pre></div>
</div>
</section>
<section id="appendix-2-how-to-build-documentation-locally">
<span id="build-documentation-locally"></span><h2>Appendix 2. How to build documentation locally<a class="headerlink" href="#appendix-2-how-to-build-documentation-locally" title="Link to this heading"></a></h2>
<p>Follow these steps sequentially:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>doc
make<span class="w"> </span>html
open<span class="w"> </span>build/html/index.html
</pre></div>
</div>
<p>To run as a single command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>doc<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>html<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>open<span class="w"> </span>build/html/index.html<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>..
</pre></div>
</div>
<section id="real-time-preview-with-visual-studio-code">
<span id="build-documentation-preview-real-time"></span><h3>Real-time preview with Visual Studio Code<a class="headerlink" href="#real-time-preview-with-visual-studio-code" title="Link to this heading"></a></h3>
<p>Alternatively, you may render the Sphinx documentation by installing the <a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=swyddfa.esbonio">Esbonio</a> extension in VS Code. This will allow you to see the changes in real-time and increase productivity.</p>
</section>
</section>
<section id="appendix-3-how-to-write-branch-name-rst-news-file">
<span id="news-file-guide"></span><h2>Appendix 3. How to write <code class="docutils literal notranslate"><span class="pre">&lt;branch-name&gt;.rst</span></code> news file<a class="headerlink" href="#appendix-3-how-to-write-branch-name-rst-news-file" title="Link to this heading"></a></h2>
<p>We require that each PR includes a news item of <code class="docutils literal notranslate"><span class="pre">&lt;branch-name&gt;.rst</span></code> file under the <code class="docutils literal notranslate"><span class="pre">news</span></code> directory.</p>
<section id="motivation-and-audience">
<h3>Motivation and audience<a class="headerlink" href="#motivation-and-audience" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">.rst</span></code> files under the <code class="docutils literal notranslate"><span class="pre">news</span></code> directory are used to compile and update the <code class="docutils literal notranslate"><span class="pre">CHANGELOG.rst</span></code> file during releases. Hence, these news items are of interest to both developers and technical users looking for specific keywords.</p>
</section>
<section id="guidelines-for-writing-news-items">
<h3>Guidelines for writing news items<a class="headerlink" href="#guidelines-for-writing-news-items" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Do not remove <code class="docutils literal notranslate"><span class="pre">news/TEMPLATE.rst</span></code>. Make a copy called <code class="docutils literal notranslate"><span class="pre">&lt;branch-name&gt;.rst</span></code>.</p></li>
<li><p>Do not modify other section headers in the rst file. Replace <code class="docutils literal notranslate"><span class="pre">*</span> <span class="pre">&lt;news</span> <span class="pre">item&gt;</span></code> only. See example news files in <a class="reference external" href="https://github.com/bobleesj/diffpy.utils/blob/ba4b985df971440325442a50ac6de63eaad05fa5/news/no-empty-object.rst">Example 1</a> and <a class="reference external" href="https://github.com/bobleesj/diffpy.utils/blob/f79e88eadfcd7b58e84c6caa591a960d79689ba9/news/prettier-pre-commit.rst">Example 2</a>.</p></li>
<li><p>Begin with “No news”, “no news”, or “no news added” for trivial changes with the following format:</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>**Added:**

* No news: &lt;brief reason&gt;
</pre></div>
</div>
</section>
<section id="where-to-place-the-news-item-in-branch-name-rst">
<h3>Where to place the news item in <code class="docutils literal notranslate"><span class="pre">&lt;branch-name&gt;.rst</span></code>?<a class="headerlink" href="#where-to-place-the-news-item-in-branch-name-rst" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">**Added:**</span></code> includes features or functionality of interest to users and developers, such as support for a new Python version or the addition of a useful feature.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**Changed:**</span></code> includes modifications that affect end-users or developers, such as API changes or dependencies replaced.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**Fixed:**</span></code> includes bug fixes or refactoring.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**Deprecated:**</span></code> includes methods, classes, or workflows that are no longer supported in the future release.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**Removed:**</span></code> includes the opposite of the “Added” section, referring to features or functionality that have been removed.</p></li>
</ul>
</section>
</section>
<section id="appendix-4-codecov-token-setup-for-the-repository">
<span id="codecov-token-setup"></span><h2>Appendix 4. Codecov token setup for the repository<a class="headerlink" href="#appendix-4-codecov-token-setup-for-the-repository" title="Link to this heading"></a></h2>
<p>For each PR, we use <code class="docutils literal notranslate"><span class="pre">Codecov</span></code> to report the test coverage percentage change as shown below.</p>
<img alt="codecov-in-pr-comment" src="_images/codecov-pr.png" />
<p>To do so, the repository owner (Prof. Billinge) needs to provide a <code class="docutils literal notranslate"><span class="pre">CODECOV_TOKEN</span></code> at the repository level. This token is used to authenticate the GitHub CI with Codecov. Please follow the step-by-step guide below.</p>
<ol class="arabic simple">
<li><p>Visit <a class="reference external" href="https://app.codecov.io/">https://app.codecov.io/</a></p></li>
<li><p>Connect your repository or organization with Codecov by clicking <code class="docutils literal notranslate"><span class="pre">Configure</span> <span class="pre">Codecov's</span> <span class="pre">GitHub</span> <span class="pre">app</span></code>, shown below:</p></li>
</ol>
<img alt="codecov-configure-github-project-button" src="_images/codecov-configure.png" />
<ol class="arabic simple" start="3">
<li><p>Scroll down, find your repository of interest, and click <code class="docutils literal notranslate"><span class="pre">Configure</span></code>, shown below:</p></li>
</ol>
<img alt="codecov-list-github-projects" src="_images/codecov-projects.png" />
<ol class="arabic simple" start="4">
<li><p>Scroll down again, copy <code class="docutils literal notranslate"><span class="pre">CODECOV_TOKEN</span></code>, shown below:</p></li>
</ol>
<img alt="codecov-list-github-projects" src="_images/codecov-token.png" />
<ol class="arabic simple" start="5">
<li><p>In your GitHub repository, go to <code class="docutils literal notranslate"><span class="pre">Settings</span></code>, then click <code class="docutils literal notranslate"><span class="pre">Actions</span></code> under the <code class="docutils literal notranslate"><span class="pre">Secrets</span> <span class="pre">and</span> <span class="pre">Variables</span></code> tab.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">repository</span> <span class="pre">secret</span></code>.</p></li>
<li><p>Paste the token value and name it as <code class="docutils literal notranslate"><span class="pre">CODECOV_TOKEN</span></code> secret as shown below:</p></li>
</ol>
<img alt="codecov-list-github-projects" src="_images/codecov-github.png" />
<ol class="arabic simple" start="8">
<li><p>Done. The Codecov token is now set up for the repository. A comment will be generated on each PR with the Codecov status automatically.</p></li>
</ol>
</section>
<section id="appendix-5-how-to-configure-pre-commit-ci-via-github-apps">
<span id="pre-commit-github-repo-setup"></span><h2>Appendix 5. How to configure pre-commit CI via GitHub Apps<a class="headerlink" href="#appendix-5-how-to-configure-pre-commit-ci-via-github-apps" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Pre-commit</span> <span class="pre">CI</span></code> is available as a GitHub app that executes pre-commit hooks in each pull request, as shown in the image below. While it is recommended to run <code class="docutils literal notranslate"><span class="pre">precommit</span> <span class="pre">run</span> <span class="pre">--all-files</span></code> locally before making a PR, this GitHub app will automatically attempt to lint code and format docstrings according to the hooks provided in <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code>. If all passes, it will give you a green checkmark as shown below.</p>
<img alt="pre-commit-PR-automatic-check" src="_images/precommit-PR.png" />
<p>To configure <code class="docutils literal notranslate"><span class="pre">pre-commit</span> <span class="pre">CI</span></code>, follow the simple steps below:</p>
<ol class="arabic simple">
<li><p>Visit <a class="reference external" href="https://github.com/apps/pre-commit-ci">https://github.com/apps/pre-commit-ci</a> and click “Configure”.</p></li>
<li><p>Select the repository(s).</p></li>
<li><p>Done!</p></li>
</ol>
</section>
<section id="appendix-6-how-to-setup-github-pages-for-your-package">
<h2>Appendix 6. How to setup GitHub Pages for your package<a class="headerlink" href="#appendix-6-how-to-setup-github-pages-for-your-package" title="Link to this heading"></a></h2>
<p>You have API doc built and tested locally. Now you want to deploy your doc via <code class="docutils literal notranslate"><span class="pre">https://org-name/github.io/repo-name</span></code> i.e., <a class="reference external" href="https://diffpy.github.io/diffpy.utils">https://diffpy.github.io/diffpy.utils</a> using GitHub Pages.</p>
<p>Go to <cite>Settings</cite> in your repository.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="getting-started.html" class="btn btn-neutral float-left" title="Getting started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="release-guide.html" class="btn btn-neutral float-right" title="How to release Python package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, The Trustees of Columbia University in the City of New York.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>